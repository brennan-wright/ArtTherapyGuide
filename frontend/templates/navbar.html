{% load wagtailcore_tags account i18n %}

<nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
  <a class="navbar-brand d-lg-none"
    href="{% slugurl 'home' %}">{% with self.get_site.site_name as site_name %}{% if site_name %}{{ site_name }}{% endif %}{% endwith %}</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggle"
    aria-controls="navbarToggle" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse justify-content-center" id="navbarToggle">
    <ul class="nav navbar-nav flex-fill w-100 flex-nowrap">
      <li class="nav-item">
        <a class="nav-link" href="{% slugurl 'home' %}">{% trans "Home" %}</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% slugurl 'articles' %}">{% trans "Articles" %}</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'list_education_post' %}">{% trans "Learning Opportunities" %}</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'list_directive_post' %}">{% trans "Directives" %}</a>
      </li>
    </ul>
    <ul class="nav navbar-nav flex-fill justify-content-center">
      <a class="navbar-brand mx-auto d-lg-block d-none"
        href="{% slugurl 'home' %}">{% with self.get_site.site_name as site_name %}{% if site_name %}{{ site_name }}{% endif %}{% endwith %}</a>
    </ul>
    <ul class="nav navbar-nav flex-fill w-100 justify-content-end">
      {% if request.user.is_authenticated %}
      <li class="nav-item">
        <a class="nav-link" href="{% url 'profile' %}">{% user_display user %}</a>
      </li>
      <li class="nav-item">
        <a class="nav-link btn btn-primary navbtn " href="{% url 'account_logout' %}">{% trans "Log Out" %}</a>
      </li>
      {% else %}
      <li class="nav-item ">
        <a class="nav-link btn navbtn btn-secondary my-xs-2" href="{% url 'account_login' %}">{% trans "Log In" %}</a>
      </li>
      <li class="nav-item mx-lg-2 mt-3 mt-lg-0">
        <a class="nav-link btn btn-primary navbtn" href="{% url 'account_signup' %}">{% trans "Sign up" %}</a>
      </li>
      {% endif %}
    </ul>
  </div>
</nav>